# 21-02-01 (MON)

#### 1. GCC

<br><br>

# GCC

    GNU 프로젝트의 오픈 소스 컴파일러 컬렉션이다.

- 1987년 리처드 스톨먼이 개발했다.
- 사실상 리눅스 계열 플랫폼의 표준 컴파일러이다.
- 지원하는 언어: C, C++, Objective-C, Fortran, Ada, Go  
<br>

### GCC가 실행시키는 프로그램

| | | |

|—|—|—|

|cpp|전처리기|preprocessor|

|cc1|컴파일러|compiler|

|as|어셈블러|assembler|

|ld|링커|linker|  


#### 생성되는 파일들

hello.c → hello.i → hello.s → hello.o → hello(a.out)

#### 전처리 단계 (C PreProcessor)

- 소스 파일 hello.c 의 #으로 시작되는 전처리 지시자를 해석하여 *.i 파일을 생성한다.
- 생성되는 파일: hello.i (디스크에 저장되지 않는다.)

#### 컴파일 단계 (cc1, c++: cc1plus, obj-c: cc1obj)

- 전처리된 파일 hello.i 를 어셈블리어(기계어)로 변환하여 어셈블리어로 된 *.s 파일을 생성한다.
- 생성되는 파일: hello.s (디스크에 저장되지 않는다.)

#### 어셈블 단계 (as)

- 컴파일된 파일 hello.s 로부터 재배치 가능한 구조인 *.o 파일을 생성한다.
- 생성되는 파일: hello.o (오브젝트 파일이며, 바이너리 파일이다.)

#### 링커 단계 (ld)

- 생성된 목적 파일들을 묶어, 실행파일을 생성한다.
- 생성되는 파일: hello (a.out)  
<br>

### GCC의 다양한 옵션들

|옵션|의미|

|—|—|

|-c|소스 파일을 컴파일만 하고 링크를 수행하지 않으며, 오브젝트 파일을 생성한다.|

|-o|링커를 통해 생성되는 실행 파일의 이름을 지정한다.|

|-I(대문자 i)|헤더 파일을 검색하는 디렉토리 경로를 추가한다.|

|-L|라이브러리 파일을 검색하는 디렉토리 경로를 추가한다.|

|-E|전처리 과정을 화면에 출력|

|-S|어셈블리 파일을 생성|

|-v|컴파일 과정을 화면에 출력|

|--save-temps|컴파일 시 생성되는 중간 파일 저장|
